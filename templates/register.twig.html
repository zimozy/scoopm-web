{% extends "base.twig.html" %}
{% import "form_macros.twig.html" as form %}

{% block title %}Register{% endblock %}

{% block content %}

<br>

<h1 class="display-4 text-center">Register</h1>

<br>

<p id="progress-links" class="h3 text-center text-muted">
    <a id="aboutYouLink" href="#" class="underlined">About&nbsp;You</a> &raquo; <a id="yourCarLink" href="#" class="text-muted">Your&nbsp;Car</a> &raquo; <a id="insuranceLink" href="#" class="text-muted">Insurance&nbsp;Info</a> &raquo; <a id="applicationLink" href="#" class="text-muted">Application</a>
</p>

<br>

<form id="form" method="post" action="{{ path_for('register') }}"  enctype="multipart/form-data" {% if errors %}class="scoopm-was-validated"{% endif %} novalidate>
          
    <!-- ABOUT YOU -->
    <div id="aboutYouPage" class="current-page page">
        {{form.title('About You')}}  
        {{form.textInput('First Name', 'firstName', firstName, errors.firstName)}}
        {{form.textInput('Last Name', 'lastName', lastName, errors.lastName)}}
        {{form.textInput('Phone Number', 'phone', phone, errors.phone)}}
        {{form.email('Email', 'email', email, errors.email)}}
        {{form.password('Password', 'password', password, errors.password)}}
        {{form.confirm('Confirm Password', 'confirmPassword', confirmPassword, errors.confirmPassword)}}
        {{form.buttons('aboutYou')}}
    </div>

    <!-- YOUR CAR -->
    <div id="yourCarPage" class="page container d-none">
        {{form.title('About your car')}}  
        {{form.upload('Driver\'s License', 'licenseImage', files.licenseImage.getClientFilename(), 'img', errors.licenseImage)}}
        {{form.upload('Registration', 'registration', files.registration.getClientFilename(), 'img', errors.registration)}}
        {{form.select('Year', 'year', errors.year)}}
        {{form.select('Make', 'make', errors.make)}}
        {{form.select('Model', 'model', errors.model)}}
        {# {{form.select('Trim', 'trim', errors.trim)}} #}
        {{form.select('Color', 'color', errors.color, ["Beige","Black","Blue","Brown","Burgundy","Charcoal","Gold","Gray","Green","Off White","Orange","Pink","Purple" ,"Red","Silver","Tan","Turquoise","White","Yellow"], color)}}
        {{form.textInput('License plate number', 'licenseNumber', licenseNumber, errors.licenseNumber)}}
        {{form.buttons('yourCar', true)}}
    </div>


    <!-- INSURANCE -->
    <div id="insurancePage" class="page container d-none">
        {{form.title('Insurance info')}}
        {{form.textInput('Policy provider', 'policyProvider', policyProvider, errors.policyProvider)}}
        {{form.textInput('Policy number', 'policyNumber', policyNumber, errors.policyNumber)}}
        {{form.upload('Insurance card', 'insurance', files.insurance.getClientFilename(), 'img', errors.insurance)}}
        {{form.buttons('insurance', true)}}
    </div>


        <!-- APPLICATION -->
    <div id="applicationPage" class="page container d-none">
        {{form.title('Application')}}
        {{form.textInput('Social Security Number', 'ssn', ssn, errors.ssn)}}
        {{form.upload('Upload a Photo of Yourself', 'photo', files.photo.getClientFilename(), 'img', errors.photo)}}
        {{form.upload('Upload W-9', 'w9', files.w9.getClientFilename(), 'img/pdf', errors.w9, '<a href="https://www.irs.gov/pub/irs-pdf/fw9.pdf">Download</a> and fill out a blank copy of the W-9.')}}
        {{form.upload('Upload Resume', 'resume', files.resume.getClientFilename(), 'doc', errors.resume)}}

        {{form.heading('Please Provide Two References')}}
        {{form.subHeading('<i class="fa fa-user-circle" aria-hidden="true"></i>&nbsp;&nbsp;Reference 1')}}
        {{form.textInput('Name', 'ref1Name', ref1Name, errors.ref1Name)}}
        {{form.textInput('Phone Number', 'ref1Phone', ref1Phone, errors.ref1Phone)}}
        {{form.email('Email Address', 'ref1Email', ref1Email, errors.ref1Email)}}
        
        {{form.subHeading('<i class="fa fa-user-circle" aria-hidden="true"></i>&nbsp;&nbsp;Reference 2')}}
        {{form.textInput('Name', 'ref2Name', ref2Name, errors.ref2Name)}}
        {{form.textInput('Phone Number', 'ref2Phone', ref2Phone, errors.ref2Phone)}}
        {{form.email('Email Address', 'ref2Email', ref2Email, errors.ref2Email)}}

        {{form.buttons('application', true, true)}}
    </div>
</form>
 
<script type="text/javascript" src="/js/register.js"></script>

{% endblock %}
